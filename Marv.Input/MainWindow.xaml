<Window x:Class="Marv.Input.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:local="clr-namespace:Marv.Input"
        xmlns:marv="http://dnvgl.com/marv"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:common="clr-namespace:Marv.Common;assembly=Marv.Common"
        Name="Root"
        Title="MARV - Input Designer"
        WindowState="Maximized"
        Loaded="MainWindow_Loaded">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Marv.Controls;component/ResourceDictionary.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Menu Grid.Row="0">
            <MenuItem Header="Line Data">
                <MenuItem Header="Open"
                          Click="LineDataOpenMenuItem_Click" />

                <MenuItem Header="Save"
                          Click="LineDataSaveMenuItem_Click" />

                <MenuItem Header="SaveAs"
                          Click="LineDataSaveAsMenuItem_Click" />
            </MenuItem>

            <MenuItem Header="Run">
                <MenuItem Header="Section"
                          Click="RunSectionMenuItem_Click" />

                <MenuItem Header="Line"
                          Click="RunLineMenuItem_Click" />
            </MenuItem>
        </Menu>

        <telerik:RadDocking Grid.Row="1"
                            HasDocumentHost="False">
            <telerik:RadDocking.Resources>
                <Style TargetType="telerik:RadPane">
                    <Setter Property="CanFloat" Value="False" />
                    <Setter Property="CanUserClose" Value="False" />
                    <Setter Property="CanUserPin" Value="False" />
                </Style>
            </telerik:RadDocking.Resources>

            <telerik:RadSplitContainer>
                <!-- InputGrid and Plot -->
                <telerik:RadSplitContainer Orientation="Vertical">
                    <telerik:RadPaneGroup>
                        <telerik:RadPane Header="Input"
                                         IsHidden="{Binding ElementName=Root, Path=IsLineDataControlVisible, Converter={StaticResource BooleanNot}}">
                            <!-- Input Grid View -->
                            <local:LineDataControl x:Name="LineDataControl"
                                                   EndYear="{Binding ElementName=Root, Path=LineData.EndYear, Mode=TwoWay}"
                                                   IsEnabled="{Binding ElementName=Root, Path=LineData, Converter={StaticResource NullToBooleanReversed}}"
                                                   NetworkFileName="{Binding ElementName=Root, Path=Graph.Network.FileName, Mode=TwoWay}"
                                                   SelectedSectionId="{Binding ElementName=Root, Path=SelectedSectionId, Mode=TwoWay}"
                                                   SelectedYear="{Binding ElementName=Root, Path=SelectedYear, Mode=TwoWay}"
                                                   StartYear="{Binding ElementName=Root, Path=LineData.StartYear, Mode=TwoWay}"
                                                   Visibility="{Binding ElementName=Root, Path=IsLineDataControlVisible, Converter={StaticResource BooleanToVisibility}}"
                                                   CellContentChanged="LineDataControl_CellContentChanged"
                                                   CellValidating="LineDataControl_CellValidating"
                                                   RowAdded="LineDataControl_RowAdded"
                                                   RowRemoved="LineDataControl_RowRemoved"
                                                   RowSelected="LineDataControl_RowSelected"
                                                   SectionIdPasting="LineDataControl_SectionIdPasting"
                                                   SectionIdValidating="LineDataControl_SectionIdValidating"
                                                   SelectedCellChanged="LineDataControl_SelectedCellChanged"/>
                        </telerik:RadPane>
                    </telerik:RadPaneGroup>

                    <telerik:RadPaneGroup>
                        <telerik:RadPane Header="DataPlot"
                                         IsHidden="{Binding ElementName=Root, Path=IsLineDataChartVisible, Converter={StaticResource BooleanNot}}">
                            <Grid>
                                <local:LineDataChart x:Name="LineDataChart"
                                                     HorizontalAxisQuantity="{Binding ElementName=Root, Path=HorizontalAxisQuantity, Mode=TwoWay}"
                                                     Title="{Binding ElementName=Root, Path=ChartTitle}"
                                                     EvidenceGenerated="LineDataChart_EvidenceGenerated"
                                                     HorizontalAxisQuantityChanged="LineDataChart_HorizontalAxisQuantityChanged"/>
                            </Grid>
                        </telerik:RadPane>
                    </telerik:RadPaneGroup>
                </telerik:RadSplitContainer>

                <!-- Graph and  timeline -->
                <telerik:RadPaneGroup>
                    <telerik:RadPane Header="Network"
                                     IsHidden="{Binding ElementName=Root, Path=IsGraphControlVisible, Converter={StaticResource BooleanNot}}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition Height="32" />
                            </Grid.RowDefinitions>

                            <marv:GraphControl Grid.Row="0"
                                               Background="WhiteSmoke"
                                               Graph="{Binding ElementName=Root, Path=Graph, Mode=TwoWay}"
                                               Network="{Binding ElementName=Root, Path=Network, Mode=TwoWay}"
                                               EvidenceEntered="GraphControl_EvidenceEntered"
                                               GraphChanged="GraphControl_GraphChanged"
                                               SelectionChanged="GraphControl_SelectionChanged" />
                        </Grid>
                    </telerik:RadPane>
                </telerik:RadPaneGroup>


             
            </telerik:RadSplitContainer>
        </telerik:RadDocking>

        <marv:StatusControl Grid.Row="2"
                            Notifications="{Binding ElementName=Root, Path=Notifications, Mode=TwoWay}"
                            Height="28" />
    </Grid>
</Window>